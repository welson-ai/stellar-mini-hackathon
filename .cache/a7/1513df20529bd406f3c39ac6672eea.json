{"id":"../node_modules/@hot-wallet/sdk/build/hot.js","dependencies":[{"name":"/Users/h/Documents/trae_projects/stellar/node_modules/@hot-wallet/sdk/build/hot.js.map","includedInParent":true,"mtime":1770986897500},{"name":"/Users/h/Documents/trae_projects/stellar/node_modules/@hot-wallet/sdk/src/hot.ts","includedInParent":true,"mtime":1770986904446},{"name":"/Users/h/Documents/trae_projects/stellar/package.json","includedInParent":true,"mtime":1770986956796},{"name":"/Users/h/Documents/trae_projects/stellar/node_modules/@hot-wallet/sdk/package.json","includedInParent":true,"mtime":1770986896625},{"name":"uuid4","loc":{"line":7,"column":40,"index":326},"parent":"/Users/h/Documents/trae_projects/stellar/node_modules/@hot-wallet/sdk/build/hot.js","resolved":"/Users/h/Documents/trae_projects/stellar/node_modules/uuid4/browser.mjs"},{"name":"@near-js/utils","loc":{"line":8,"column":24,"index":361},"parent":"/Users/h/Documents/trae_projects/stellar/node_modules/@hot-wallet/sdk/build/hot.js","resolved":"/Users/h/Documents/trae_projects/stellar/node_modules/@near-js/utils/lib/esm/index.js"},{"name":"./helpers/proxy","loc":{"line":9,"column":24,"index":404},"parent":"/Users/h/Documents/trae_projects/stellar/node_modules/@hot-wallet/sdk/build/hot.js","resolved":"/Users/h/Documents/trae_projects/stellar/node_modules/@hot-wallet/sdk/build/helpers/proxy.js"}],"generated":{"js":"\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getExtension = exports.RequestFailed = exports.wait = void 0;\nconst uuid4_1 = __importDefault(require(\"uuid4\"));\nconst utils_1 = require(\"@near-js/utils\");\nconst proxy_1 = require(\"./helpers/proxy\");\nconst wait = (timeout) => {\n    return new Promise((resolve) => setTimeout(resolve, timeout));\n};\nexports.wait = wait;\nclass RequestFailed extends Error {\n    payload;\n    name = \"RequestFailed\";\n    constructor(payload) {\n        super();\n        this.payload = payload;\n    }\n}\nexports.RequestFailed = RequestFailed;\nconst getExtension = () => {\n    if (typeof window === \"undefined\")\n        return null;\n    return window.hotExtension;\n};\nexports.getExtension = getExtension;\nlet connector;\nif (typeof window !== \"undefined\") {\n    window.addEventListener(\"message\", (e) => {\n        if (e.data === \"hot-close\") {\n            connector?.remove();\n            connector = undefined;\n        }\n    });\n}\nconst createIframe = (widget) => {\n    connector?.remove();\n    connector = document.createElement(\"div\");\n    const iframe = document.createElement(\"iframe\");\n    connector?.appendChild(iframe);\n    iframe.src = widget;\n    iframe.allow = \"usb\";\n    iframe.style.border = \"none\";\n    iframe.style.borderRadius = \"16px\";\n    iframe.style.background = \"#fff\";\n    iframe.style.overflow = \"hidden\";\n    iframe.style.background = \"#1D1F20\";\n    iframe.style.border = \"1px solid #2C3034\";\n    iframe.style.width = \"375px\";\n    iframe.style.height = \"560px\";\n    iframe.onclick = (e) => e.stopPropagation();\n    connector.style.padding = \"16px\";\n    connector.style.zIndex = \"100000000000000\";\n    connector.style.position = \"fixed\";\n    connector.style.display = \"flex\";\n    connector.style.justifyContent = \"center\";\n    connector.style.alignItems = \"center\";\n    connector.style.top = \"0\";\n    connector.style.left = \"0\";\n    connector.style.width = \"100%\";\n    connector.style.height = \"100%\";\n    connector.style.background = \"rgba(0, 0, 0, 0.1)\";\n    connector.style.backdropFilter = \"blur(24px)\";\n    connector.onclick = () => {\n        connector?.remove();\n        connector = undefined;\n    };\n    document.body.appendChild(connector);\n    return connector;\n};\nclass HOT {\n    walletId = \"https://t.me/herewalletbot/app\";\n    ancestorOrigins = [\n        \"http://localhost:1234\",\n        \"https://my.herewallet.app\",\n        \"https://tgapp-dev.herewallet.app\",\n        \"https://tgapp.herewallet.app\",\n        \"https://beta.herewallet.app\",\n    ];\n    connection = new Promise((resolve) => {\n        if (typeof window === \"undefined\")\n            return resolve(null);\n        if (window?.self === window?.top)\n            return resolve(null);\n        this.injectedRequest(\"initialized\", {})\n            .then(resolve)\n            .catch(() => resolve(null));\n    });\n    get isInjected() {\n        if (typeof window === \"undefined\")\n            return false;\n        if (window.hotExtension != null)\n            return window.hotExtension.autoRun;\n        return this.ancestorOrigins.includes(window.location.ancestorOrigins?.[0]);\n    }\n    openInHotBrowserUrl = null;\n    toggleOpenInHotBrowser(url) {\n        this.openInHotBrowserUrl = url;\n    }\n    customProvider;\n    setupEthProvider(provider) {\n        this.customProvider = provider;\n    }\n    async injectedRequest(method, request) {\n        const id = (0, uuid4_1.default)();\n        return new Promise((resolve, reject) => {\n            const handler = (e) => {\n                if (e.data.id !== id)\n                    return;\n                window?.removeEventListener(\"message\", handler);\n                if (e.data.success)\n                    return resolve(e.data.payload);\n                else\n                    return reject(e.data.payload);\n            };\n            window?.parent.postMessage({ $hot: true, method, request, id }, \"*\");\n            window?.addEventListener(\"message\", handler);\n        });\n    }\n    subscribe(event, cb) {\n        if (!window.hotExtension)\n            return () => { };\n        return window.hotExtension.subscribe(event, cb);\n    }\n    async request(method, request) {\n        if (window.hotExtension != null)\n            return window.hotExtension.request(method, request);\n        if (this.isInjected)\n            return this.injectedRequest(method, request);\n        const id = (0, uuid4_1.default)();\n        const WebApp = window?.Telegram?.WebApp;\n        const requestId = await (0, proxy_1.createRequest)({\n            inside: !!this.openInHotBrowserUrl || (method === \"ethereum\" && this.customProvider == null),\n            origin: typeof this.openInHotBrowserUrl === \"string\" ? this.openInHotBrowserUrl : location.href,\n            $hot: true,\n            method,\n            request,\n            id,\n        });\n        const link = `${this.walletId}?startapp=hotconnect-${(0, utils_1.baseEncode)(requestId)}`;\n        if (WebApp)\n            WebApp?.openTelegramLink(link);\n        else {\n            const origin = `https://hot-labs.org/hot-widget/index.html`;\n            createIframe(`${origin}?hotconnect-${(0, utils_1.baseEncode)(requestId)}`);\n        }\n        const poolResponse = async () => {\n            await (0, exports.wait)(3000);\n            const data = await (0, proxy_1.getResponse)(requestId).catch(() => null);\n            if (data == null)\n                return await poolResponse();\n            if (data.success)\n                return data.payload;\n            throw new RequestFailed(data.payload);\n        };\n        const result = await poolResponse();\n        connector?.remove();\n        return result;\n    }\n}\nexports.default = new HOT();\n"},"sourceMaps":{"js":{"version":3,"file":"hot.js","sourceRoot":"","sources":["../src/hot.ts"],"names":[],"mappings":"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","sourcesContent":["import uuid4 from \"uuid4\";\nimport { baseEncode } from \"@near-js/utils\";\nimport type { InjectedState, HotRequest, HotResponse } from \"./helpers/types\";\nimport { createRequest, getResponse } from \"./helpers/proxy\";\n\ndeclare global {\n  interface Window {\n    hotExtension?: {\n      autoRun: boolean;\n      request: (method: string, args: any) => any;\n      subscribe: (event: string, args: any) => () => void;\n      evm: any;\n    };\n  }\n}\n\nexport const wait = (timeout: number) => {\n  return new Promise<void>((resolve) => setTimeout(resolve, timeout));\n};\n\nexport class RequestFailed extends Error {\n  name = \"RequestFailed\";\n  constructor(readonly payload: any) {\n    super();\n  }\n}\n\nexport const getExtension = () => {\n  if (typeof window === \"undefined\") return null;\n  return window.hotExtension;\n};\n\nlet connector: HTMLDivElement | undefined;\nif (typeof window !== \"undefined\") {\n  window.addEventListener(\"message\", (e: any) => {\n    if (e.data === \"hot-close\") {\n      connector?.remove();\n      connector = undefined;\n    }\n  });\n}\n\nconst createIframe = (widget: string) => {\n  connector?.remove();\n  connector = document.createElement(\"div\");\n\n  const iframe = document.createElement(\"iframe\");\n  connector?.appendChild(iframe);\n\n  iframe.src = widget;\n  iframe.allow = \"usb\";\n  iframe.style.border = \"none\";\n  iframe.style.borderRadius = \"16px\";\n  iframe.style.background = \"#fff\";\n  iframe.style.overflow = \"hidden\";\n  iframe.style.background = \"#1D1F20\";\n  iframe.style.border = \"1px solid #2C3034\";\n  iframe.style.width = \"375px\";\n  iframe.style.height = \"560px\";\n  iframe.onclick = (e) => e.stopPropagation();\n\n  connector.style.padding = \"16px\";\n  connector.style.zIndex = \"100000000000000\";\n  connector.style.position = \"fixed\";\n  connector.style.display = \"flex\";\n  connector.style.justifyContent = \"center\";\n  connector.style.alignItems = \"center\";\n  connector.style.top = \"0\";\n  connector.style.left = \"0\";\n  connector.style.width = \"100%\";\n  connector.style.height = \"100%\";\n  connector.style.background = \"rgba(0, 0, 0, 0.1)\";\n  connector.style.backdropFilter = \"blur(24px)\";\n  connector.onclick = () => {\n    connector?.remove();\n    connector = undefined;\n  };\n\n  document.body.appendChild(connector);\n  return connector;\n};\n\nclass HOT {\n  walletId = \"https://t.me/herewalletbot/app\";\n  ancestorOrigins = [\n    \"http://localhost:1234\",\n    \"https://my.herewallet.app\",\n    \"https://tgapp-dev.herewallet.app\",\n    \"https://tgapp.herewallet.app\",\n    \"https://beta.herewallet.app\",\n  ];\n\n  readonly connection = new Promise<InjectedState | null>((resolve) => {\n    if (typeof window === \"undefined\") return resolve(null);\n    if (window?.self === window?.top) return resolve(null);\n    this.injectedRequest(\"initialized\", {})\n      .then(resolve)\n      .catch(() => resolve(null));\n  });\n\n  get isInjected() {\n    if (typeof window === \"undefined\") return false;\n    if (window.hotExtension != null) return window.hotExtension.autoRun;\n    return this.ancestorOrigins.includes(window.location.ancestorOrigins?.[0]);\n  }\n\n  openInHotBrowserUrl: string | null = null;\n  toggleOpenInHotBrowser(url: string | null) {\n    this.openInHotBrowserUrl = url;\n  }\n\n  customProvider?: (data: any, chain: number, address?: string | null) => Promise<any>;\n  setupEthProvider(provider?: (data: any, chain: number, address?: string | null) => Promise<any>) {\n    this.customProvider = provider;\n  }\n\n  async injectedRequest<T extends keyof HotResponse>(method: T, request: HotRequest[T]): Promise<HotResponse[T]> {\n    const id = uuid4();\n    return new Promise<HotResponse[T]>((resolve, reject) => {\n      const handler = (e: any) => {\n        if (e.data.id !== id) return;\n        window?.removeEventListener(\"message\", handler);\n        if (e.data.success) return resolve(e.data.payload);\n        else return reject(e.data.payload);\n      };\n\n      window?.parent.postMessage({ $hot: true, method, request, id }, \"*\");\n      window?.addEventListener(\"message\", handler);\n    });\n  }\n\n  subscribe(event: string, cb: (e: any) => void) {\n    if (!window.hotExtension) return () => {};\n    return window.hotExtension.subscribe(event, cb);\n  }\n\n  async request<T extends keyof HotResponse>(method: T, request: HotRequest[T]): Promise<HotResponse[T]> {\n    if (window.hotExtension != null) return window.hotExtension.request(method, request);\n    if (this.isInjected) return this.injectedRequest(method, request);\n\n    const id = uuid4();\n    const WebApp: any = (window as any)?.Telegram?.WebApp;\n\n    const requestId = await createRequest({\n      inside: !!this.openInHotBrowserUrl || (method === \"ethereum\" && this.customProvider == null),\n      origin: typeof this.openInHotBrowserUrl === \"string\" ? this.openInHotBrowserUrl : location.href,\n      $hot: true,\n      method,\n      request,\n      id,\n    });\n\n    const link = `${this.walletId}?startapp=hotconnect-${baseEncode(requestId)}`;\n    if (WebApp) WebApp?.openTelegramLink(link);\n    else {\n      const origin = `https://hot-labs.org/hot-widget/index.html`;\n      createIframe(`${origin}?hotconnect-${baseEncode(requestId)}`);\n    }\n\n    const poolResponse = async () => {\n      await wait(3000);\n      const data: any = await getResponse(requestId).catch(() => null);\n      if (data == null) return await poolResponse();\n      if (data.success) return data.payload;\n      throw new RequestFailed(data.payload);\n    };\n\n    const result = await poolResponse();\n    connector?.remove();\n    return result;\n  }\n}\n\nexport default new HOT();\n"]}},"error":null,"hash":"9db3bea1aeac14a11e7a030a5285b98c","cacheData":{"env":{}}}